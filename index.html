<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Be My Valentine? üíñ</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
}

body{
font-family:'Poppins',sans-serif;
background:linear-gradient(135deg,#fbc2eb,#a6c1ee);
min-height:100vh;
overflow-x:hidden;
}

section{
display:none;
min-height:100vh;
justify-content:center;
align-items:center;
flex-direction:column;
padding:20px;
}

section.active{
display:flex;
}

/* ================= DIALOG ================= */

.popup{
width:460px;
height:320px;
background:rgba(255,255,255,0.15);
backdrop-filter:blur(15px);
border-radius:25px;
padding:20px;
text-align:center;
box-shadow:0 0 30px rgba(255,255,255,0.4);
position:relative;
overflow:hidden;
}

.popup h2{
height:60px;
display:flex;
align-items:center;
justify-content:center;
text-align:center;
transition:0.3s;
}

.button-container{
position:absolute;
top:80px;
bottom:20px;
left:0;
width:100%;
}

.popup button{
position:absolute;
width:130px;
height:48px;
border-radius:40px;
border:none;
font-size:16px;
cursor:pointer;
transition:left 0.25s ease, top 0.25s ease;
}

.yes{
left:40px;
bottom:0;
background:linear-gradient(135deg,#fbc2eb,#a6c1ee);
color:white;
}

.no{
right:40px;
bottom:0;
background:rgba(255,255,255,0.3);
color:white;
}

/* ================= LETTER ================= */

#letterSection{
padding:40px 20px 80px;
}

.photo-grid{
width:100%;
max-width:900px;
display:grid;
grid-template-columns:repeat(3,1fr);
gap:30px;
margin-bottom:50px;
justify-items:center;
}

.polaroid{
background:white;
padding:12px 12px 35px;
box-shadow:0 15px 25px rgba(0,0,0,0.25);
width:100%;
max-width:220px;
}

.polaroid:nth-child(1){ transform:rotate(-6deg); }
.polaroid:nth-child(2){ transform:rotate(4deg); }
.polaroid:nth-child(3){ transform:rotate(-3deg); }
.polaroid:nth-child(4){ transform:rotate(5deg); }
.polaroid:nth-child(5){ transform:rotate(-4deg); }
.polaroid:nth-child(6){ transform:rotate(3deg); }

.polaroid img{
width:100%;
aspect-ratio:1/1;
object-fit:cover;
display:block;
}

.letter{
max-width:600px;
width:100%;
background:rgba(255,255,255,0.9);
padding:30px;
border-radius:20px;
box-shadow:0 0 30px rgba(255,255,255,0.6);
}

#typewriter{
white-space:pre-wrap;
line-height:1.6;
margin-top:10px;
}

/* MOBILE */
@media(max-width:700px){

.photo-grid{
grid-template-columns:repeat(2,1fr);
gap:20px;
}

.polaroid{
max-width:160px;
}

.popup{
width:95%;
height:340px;
}

}
</style>
</head>

<body>

<section id="dialogSection" class="active">
<div class="popup">
<h2 id="dialogText">Will you be my Valentine? üíñ</h2>

<div class="button-container" id="buttonArea">
<button class="yes" id="yesBtn">Yes üíï</button>
<button class="no" id="noBtn">No üíî</button>
</div>

</div>
</section>

<section id="letterSection">

<div class="photo-grid">
<div class="polaroid"><img src="photo1.jpg"></div>
<div class="polaroid"><img src="photo2.jpg"></div>
<div class="polaroid"><img src="photo3.jpg"></div>
<div class="polaroid"><img src="photo4.jpg"></div>
<div class="polaroid"><img src="photo5.jpg"></div>
<div class="polaroid"><img src="photo6.jpg"></div>
</div>

<div class="letter">
<h2>My Love ‚ù§Ô∏è</h2>
<p id="typewriter"></p>
</div>

</section>

<audio id="bgMusic" loop preload="auto">
  <source src="maula-mere.mp3" type="audio/mpeg">
</audio>


<script>
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const dialogText=document.getElementById("dialogText");
const dialogSection=document.getElementById("dialogSection");
const letterSection=document.getElementById("letterSection");
const music=document.getElementById("bgMusic");
const buttonArea=document.getElementById("buttonArea");

const noMessages=[
"No isn't an option üòå",
"Try again üòâ",
"You sure about that? ü§®",
"Still thinking? ü•∫",
"I'll keep asking üíñ"
];

let noIndex=0;

/* NO MOVES ON CLICK */
noBtn.addEventListener("click",(e)=>{
e.preventDefault();
moveButton();
dialogText.textContent=noMessages[noIndex];
noIndex=(noIndex+1)%noMessages.length;
});

function moveButton(){

const areaRect=buttonArea.getBoundingClientRect();
const btnWidth=noBtn.offsetWidth;
const btnHeight=noBtn.offsetHeight;

let newLeft=Math.random()*(areaRect.width-btnWidth);
let newTop=Math.random()*(areaRect.height-btnHeight);

noBtn.style.left=newLeft+"px";
noBtn.style.top=newTop+"px";
}

/* YES CLICK */
yesBtn.addEventListener("click", () => {

  dialogText.textContent = "I knew you'd say yes üíï";

  // Start from specific timestamp (in seconds)
  music.currentTime = 42;   // ‚Üê change this to where you want it to start

  music.play().catch(err => console.log("Audio blocked:", err));

  setTimeout(() => {
    dialogSection.classList.remove("active");
    letterSection.classList.add("active");
    startTypewriter();
  }, 1000);

});


/* TYPEWRITER */
function startTypewriter(){
const text=`From the moment you came into my life,
everything became softer, brighter, warmer.

You are my favorite thought,
my safest place,
and my forever Valentine. üíñ`;

let i=0;
function type(){
if(i<text.length){
document.getElementById("typewriter").textContent+=text.charAt(i);
i++;
setTimeout(type,40);
}
}
type();
}
</script>

</body>
</html>
